<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
      	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
        <title>一滴水前端博客 - 行进在web前端艺术之巅的路上</title>
        <meta name="keywords" content="前端开发,vue,web前端设计,html5">
        <meta name="baidu-site-verification" content="8xqFI5Yzeo" />
        <meta name="description" content="从事前端开发，web前端设计，vue，html5，javascript，node等技术的开发和学习。站在前端大神们的肩膀成长起来，那么就要在前端这个无尽的知识汪洋中贡献自己的一滴水">
        <link rel='stylesheet' href='//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css'/>
        <link href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css" rel="stylesheet">
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
        <% if(!isMobile){ %>
        <link href="//cdn.bootcss.com/Swiper/3.4.1/css/swiper.css" rel="stylesheet">
        <% } %>
        <link rel='stylesheet' href='/stylesheets/style.css' />
        <script>
            !function(e,n){var a=0,o="M",t=e.documentElement;window.screen&&screen.width&&(a=screen.width,a>1920?o="L":a<480&&(o="S")),t.className=o,navigator.platform&&(t.className+=" "+navigator.platform.toLowerCase()),window.SIZE=o}(document,window)
        </script>
    </head>
    <body data-spm="0">
        <%- include nav.ejs %>
        <main class="g-content" id="g-content">
            <div class="inner-wrap">
                <% if(!isMobile && cate_id==2){ %>
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide red-slide"><img class="swiper-lazy" data-src="https://dn-youplus-app2.qbox.me/culture_p3_0.png"/></div>
                        <div class="swiper-slide blue-slide"><img class="swiper-lazy" data-src="https://dn-youplus-app2.qbox.me/culture_p3_1.png"/></div>
                        <div class="swiper-slide yellow-slide"><img class="swiper-lazy" data-src="https://dn-youplus-app2.qbox.me/culture_p3_2.png"/></div>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
                <% } %>
                <div class="article-box" id="app">
                    <ul class="article-lists">
                        <% posts.forEach(function(post){ %>
                        <li class="have-img">
                            <% if(!isMobile && post.post_thumbnail){ %>
                                <a class="wrap-img" href="/blog/<%= post._id %>"><img class="lazy" data-original="<%= post.post_thumbnail.url %>"/></a>
                            <% } %>
                            <div class="content">
                                <h3 class="title"><a class="title-url" href="/blog/<%= post._id %>"><%= post.post_title %></a></h3>
                                <p class="abstract"><%= post.post_abstract %></p>
                                <div class="meta">
                                    <a class="read-icon" href="/blog/<%= post._id %>">
                                        <i class="fa fa-eye"></i> 阅读(<%= post.post_pv %>)
                                    </a>
                                    <a class="comment-icon" href="/blog/<%= post._id %>">
                                        <i class="fa fa-comment"></i> 评论(<%= post.post_comments %>)
                                    </a>
                                    <a class="tag">
                                <span v-cloak>{{<%= post.post_classify_sup %> | typesFomat}}</span>-<span v-cloak>{{<%= post.post_classify_sub %> | typesFomat}}</span></a>
                                    <time v-cloak>{{<%= post.post_created %> | dateFomat}}</time>
                                </div>
                            </div>
                        </li>
                        <% }) %>
                        <template v-if="posts.length">
                            <li class="have-img" v-for="post in posts">
                                <div class="content">
                                    <h3 class="title"><a @click.prevent="skip(post._id)" class="title-url" href="javascript:void(0)"> {{post.post_title}}</a></h3>
                                    <p class="abstract">{{post.post_abstract}}</p>
                                    <div class="meta">
                                        <a @click.prevent="skip(post._id)" class="read-icon" href="javascript:void(0)">
                                            <i class="fa fa-eye"></i> 阅读({{post.post_pv}})
                                        </a>
                                        <a @click.prevent="skip(post._id)" class="comment-icon" href="javascript:void(0)">
                                            <i class="fa fa-comment"></i> 评论({{post.post_comments}})
                                        </a>
                                        <a class="tag">
                                    <span v-cloak>{{post.post_classify_sup | typesFomat}}</span>-<span v-cloak>{{post.post_classify_sub | typesFomat}}</span></a>
                                        <time>{{post.post_created | dateFomat}}</time>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                    <% if(!nodata){ %>
                        <div class="m-load" v-if="!nodata">
                            <a href="<%= pathUrl %>" class="load-more" @click.prevent="loadMore">加载更多...</a>
                        </div>
                    <% }else if(posts.length==0){ %>
                        <div style="text-align: center;margin-top:30px;">
                            呵呵，什么也没有~~~~
                        </div>
                    <% } %>
                </div>
            </div>
        </main>
        <aside class="broadcast-wrap">
            <div class="box">
               <svg xmlns="http://www.w3.org/2000/svg" width="184.6" height="22.375" viewBox="0 0 184.6 22.375">
                  <defs>
                    <style>
                      .cls-1 {
                        fill: #fff;
                        fill-rule: evenodd;
                      }
                    </style>
                  </defs>
                  <path id="_92node1.svg" data-name="92node1.svg" class="cls-1" d="M1026.21,142.9a3.947,3.947,0,0,1-1.29,1.212,3.153,3.153,0,0,1-1.59.429,2.845,2.845,0,0,1-1.7-.54,2.884,2.884,0,0,1-1.08-1.426,2.195,2.195,0,0,0-.79-1.086,1.964,1.964,0,0,0-1.16-.362,1.533,1.533,0,0,0-1.17.487,1.561,1.561,0,0,0-.46,1.109,3.759,3.759,0,0,0,.74,2.091,5.647,5.647,0,0,0,2.16,1.818,7.191,7.191,0,0,0,3.34.731,8.186,8.186,0,0,0,3.49-.717,6.911,6.911,0,0,0,2.63-2.187,10.331,10.331,0,0,0,1.68-3.635,19.27,19.27,0,0,0,.58-5,17.127,17.127,0,0,0-.55-4.551,9.4,9.4,0,0,0-1.57-3.333,6.656,6.656,0,0,0-2.51-2.017,8.536,8.536,0,0,0-6.42-.133,6.855,6.855,0,0,0-3.88,3.938,8.1,8.1,0,0,0-.06,5.6,6.972,6.972,0,0,0,1.35,2.261,6.266,6.266,0,0,0,4.68,2.047,6.011,6.011,0,0,0,2.67-.584,6.706,6.706,0,0,0,2.18-1.736q-0.21,4-1.27,5.586h0Zm0.4-7.951a3.649,3.649,0,0,1-1.36,1.4,3.443,3.443,0,0,1-1.75.48,3.071,3.071,0,0,1-2.46-1.167,4.734,4.734,0,0,1-.98-3.133,4.911,4.911,0,0,1,.98-3.185,2.955,2.955,0,0,1,2.38-1.2,3.238,3.238,0,0,1,1.5.354,3.711,3.711,0,0,1,1.18.976,4.739,4.739,0,0,1,.77,1.47,6.1,6.1,0,0,1,.27,1.855A4.265,4.265,0,0,1,1026.61,134.946Zm14.61,7.626a23.771,23.771,0,0,1,3.05-2.823c1.49-1.211,2.54-2.1,3.17-2.667a10.511,10.511,0,0,0,1.86-2.35,6.361,6.361,0,0,0,.91-3.332,6.129,6.129,0,0,0-1.66-4.168,5.772,5.772,0,0,0-1.82-1.3,9.437,9.437,0,0,0-3.85-.71,8.929,8.929,0,0,0-3.28.554,6.7,6.7,0,0,0-2.3,1.456,6.117,6.117,0,0,0-1.37,2.01,5.671,5.671,0,0,0-.46,2.128,1.818,1.818,0,0,0,.49,1.33,1.684,1.684,0,0,0,1.23.488,1.563,1.563,0,0,0,1.28-.532,5.044,5.044,0,0,0,.78-1.522,8.347,8.347,0,0,1,.49-1.212,3.467,3.467,0,0,1,3.05-1.7,3.54,3.54,0,0,1,1.69.414,3.115,3.115,0,0,1,1.23,1.16,3.214,3.214,0,0,1,.45,1.692,4.225,4.225,0,0,1-.42,1.781,6.758,6.758,0,0,1-1.23,1.773,13.059,13.059,0,0,1-2.02,1.722,24.683,24.683,0,0,0-2.26,1.914q-1.575,1.455-3.54,3.5a5.053,5.053,0,0,0-.88,1.382,3.782,3.782,0,0,0-.4,1.411,1.947,1.947,0,0,0,.63,1.441,2.339,2.339,0,0,0,1.72.613h10.88a1.936,1.936,0,0,0,1.46-.5,1.71,1.71,0,0,0,.48-1.227,1.531,1.531,0,0,0-.61-1.285,2.8,2.8,0,0,0-1.76-.473h-7.71a8.363,8.363,0,0,1,.72-0.961h0Zm16.61-10.581a1.779,1.779,0,0,0-1.65-1.005,1.761,1.761,0,0,0-1.38.569,2.564,2.564,0,0,0-.5,1.721v11.661a2.678,2.678,0,0,0,.56,1.817,1.836,1.836,0,0,0,1.44.636,1.916,1.916,0,0,0,1.47-.614,2.616,2.616,0,0,0,.57-1.839v-5.055a12.578,12.578,0,0,1,.29-3.369,3.724,3.724,0,0,1,1.3-1.766,3.278,3.278,0,0,1,1.97-.643,2.261,2.261,0,0,1,2.21,1.057,6.715,6.715,0,0,1,.55,3.051v6.725a2.678,2.678,0,0,0,.56,1.817,2,2,0,0,0,2.91.015,2.668,2.668,0,0,0,.55-1.832v-7.508a16.285,16.285,0,0,0-.12-2.187,4.624,4.624,0,0,0-.52-1.6,4.425,4.425,0,0,0-1.87-1.966,5.8,5.8,0,0,0-2.85-.694,6.2,6.2,0,0,0-2.91.657,7.1,7.1,0,0,0-2.33,2.062v-0.488A2.689,2.689,0,0,0,1057.83,131.991Zm30.02,3.872a7.1,7.1,0,0,0-4.17-4.286,9.618,9.618,0,0,0-6.62-.007,7.054,7.054,0,0,0-2.54,1.662,7.227,7.227,0,0,0-1.61,2.6,10.134,10.134,0,0,0-.01,6.673,7.231,7.231,0,0,0,4.16,4.293,8.689,8.689,0,0,0,3.29.591,9,9,0,0,0,3.33-.584,7.22,7.22,0,0,0,2.54-1.677,7.421,7.421,0,0,0,1.63-2.616A10.151,10.151,0,0,0,1087.85,135.863Zm-4.58,7.145a3.507,3.507,0,0,1-2.92,1.382,3.553,3.553,0,0,1-2.1-.628,3.944,3.944,0,0,1-1.38-1.811,7.311,7.311,0,0,1-.48-2.763,7.468,7.468,0,0,1,.49-2.793,3.928,3.928,0,0,1,1.39-1.811,3.626,3.626,0,0,1,2.08-.613,3.514,3.514,0,0,1,2.92,1.374A7.279,7.279,0,0,1,1083.27,143.008Zm20.51,3.783a1.77,1.77,0,0,0,1.37.6,1.805,1.805,0,0,0,1.38-.577,2.493,2.493,0,0,0,.53-1.729V127.291a2.6,2.6,0,0,0-.5-1.721,1.744,1.744,0,0,0-1.41-.584,1.684,1.684,0,0,0-1.41.635,3.018,3.018,0,0,0-.49,1.877v5.956a8.2,8.2,0,0,0-2.34-1.84,6.541,6.541,0,0,0-2.94-.6,6.138,6.138,0,0,0-4.86,2.114,8.674,8.674,0,0,0-1.85,5.9,11.428,11.428,0,0,0,.47,3.325,7.975,7.975,0,0,0,1.36,2.675,6.277,6.277,0,0,0,2.14,1.751,5.91,5.91,0,0,0,2.68.614,6.471,6.471,0,0,0,2.02-.3,6.136,6.136,0,0,0,1.71-.887,10.486,10.486,0,0,0,1.61-1.515v0.4A2.46,2.46,0,0,0,1103.78,146.791Zm-7.99-10.359a4.034,4.034,0,0,1,1.35-1.8,3.3,3.3,0,0,1,1.98-.628,3.4,3.4,0,0,1,1.96.613,4.142,4.142,0,0,1,1.42,1.773,6.689,6.689,0,0,1,.52,2.771,6.869,6.869,0,0,1-.52,2.86,3.844,3.844,0,0,1-1.4,1.7,3.6,3.6,0,0,1-1.95.555,3.429,3.429,0,0,1-1.93-.584,3.838,3.838,0,0,1-1.4-1.737,6.879,6.879,0,0,1-.51-2.793A7.168,7.168,0,0,1,1095.79,136.432Zm29.64,3.3a2.011,2.011,0,0,0,.87-1.973,6.794,6.794,0,0,0-.84-3.221,6.555,6.555,0,0,0-2.54-2.579,7.846,7.846,0,0,0-4.05-1,8.97,8.97,0,0,0-3.31.584,6.719,6.719,0,0,0-2.52,1.677,7.4,7.4,0,0,0-1.55,2.624,10.149,10.149,0,0,0-.53,3.317,8.25,8.25,0,0,0,2.16,6.015,8.039,8.039,0,0,0,6.04,2.217,9.365,9.365,0,0,0,3.01-.444,7.412,7.412,0,0,0,2.17-1.115,4.937,4.937,0,0,0,1.29-1.4,2.586,2.586,0,0,0,.43-1.279,1.234,1.234,0,0,0-.38-0.96,1.468,1.468,0,0,0-1.01-.34,1.3,1.3,0,0,0-.88.266c-0.51.473-.91,0.847-1.23,1.123a9.561,9.561,0,0,1-1.03.776,4.524,4.524,0,0,1-1.16.532,4.867,4.867,0,0,1-1.33.17,3.7,3.7,0,0,1-3.4-2.113,5.36,5.36,0,0,1-.56-2.424h7.89A5.438,5.438,0,0,0,1125.43,139.727Zm-9.17-4.921a3.216,3.216,0,0,1,2.47-1.042,3.328,3.328,0,0,1,2.55,1.027,4.887,4.887,0,0,1,1.12,3.1h-7.32A5.17,5.17,0,0,1,1116.26,134.806Zm18.26,11.985a2.277,2.277,0,0,0,0-3.207,2.2,2.2,0,0,0-1.59-.642,2.083,2.083,0,0,0-1.56.65,2.121,2.121,0,0,0-.64,1.551,2.081,2.081,0,0,0,.67,1.656,2.293,2.293,0,0,0,1.58.591A2.215,2.215,0,0,0,1134.52,146.791Zm19.84-5.593a1.538,1.538,0,0,0-1.22-.562,1.5,1.5,0,0,0-1.05.384,3.755,3.755,0,0,0-.8,1.064,5.047,5.047,0,0,1-1.53,1.715,3.747,3.747,0,0,1-2.08.561,3.872,3.872,0,0,1-1.65-.347,3.464,3.464,0,0,1-1.29-1.02,4.884,4.884,0,0,1-.81-1.625,7.286,7.286,0,0,1-.28-2.092,6.038,6.038,0,0,1,1.09-3.82,3.8,3.8,0,0,1,4.93-.835,6.022,6.022,0,0,1,1.54,1.685,4.271,4.271,0,0,0,.75.835,1.323,1.323,0,0,0,.84.259,1.835,1.835,0,0,0,1.3-.5,1.612,1.612,0,0,0,.54-1.226,3.062,3.062,0,0,0-.48-1.53,5.6,5.6,0,0,0-1.39-1.544,7.426,7.426,0,0,0-2.21-1.183,8.7,8.7,0,0,0-2.88-.458,8.591,8.591,0,0,0-4.34,1.042,6.91,6.91,0,0,0-2.78,2.948,9.632,9.632,0,0,0-.96,4.39,8.067,8.067,0,0,0,2.1,5.844,7.707,7.707,0,0,0,5.83,2.18,9.887,9.887,0,0,0,3.17-.473,7.063,7.063,0,0,0,2.32-1.248,5.5,5.5,0,0,0,1.38-1.633,3.489,3.489,0,0,0,.45-1.611A1.777,1.777,0,0,0,1154.36,141.2Zm19.16-5.335a7.175,7.175,0,0,0-4.17-4.286,9.013,9.013,0,0,0-3.33-.591,8.917,8.917,0,0,0-3.29.584,7.1,7.1,0,0,0-2.55,1.662,7.367,7.367,0,0,0-1.61,2.6,9.73,9.73,0,0,0-.56,3.355,9.5,9.5,0,0,0,.56,3.318,7.231,7.231,0,0,0,4.16,4.293,8.689,8.689,0,0,0,3.29.591,9.04,9.04,0,0,0,3.33-.584,7.127,7.127,0,0,0,4.16-4.293,9.41,9.41,0,0,0,.57-3.325A9.558,9.558,0,0,0,1173.52,135.863Zm-4.58,7.145a3.795,3.795,0,0,1-5.02.754,3.944,3.944,0,0,1-1.38-1.811,8.2,8.2,0,0,1,.01-5.556,3.864,3.864,0,0,1,1.39-1.811,3.6,3.6,0,0,1,2.08-.613,3.527,3.527,0,0,1,2.92,1.374A7.279,7.279,0,0,1,1168.94,143.008Zm22.78-7.131a3.231,3.231,0,0,1,1.12-1.27,2.671,2.671,0,0,1,1.51-.473,1.919,1.919,0,0,1,1.48.532,2.47,2.47,0,0,1,.6,1.315,16.25,16.25,0,0,1,.11,2.084v6.783a2.735,2.735,0,0,0,.58,1.9,2.1,2.1,0,0,0,3.02.007,2.728,2.728,0,0,0,.58-1.906v-7.877a8.434,8.434,0,0,0-.52-3.443,4.107,4.107,0,0,0-1.79-1.862,5.838,5.838,0,0,0-2.85-.651,5.553,5.553,0,0,0-2.58.6,7,7,0,0,0-2.19,1.84,4.71,4.71,0,0,0-1.8-1.833,5.324,5.324,0,0,0-2.62-.606,5.949,5.949,0,0,0-2.66.592,7.017,7.017,0,0,0-2.25,1.847V133.07a2.062,2.062,0,0,0-.55-1.53,1.876,1.876,0,0,0-1.38-.554,1.757,1.757,0,0,0-1.38.591,2.527,2.527,0,0,0-.53,1.729v11.542a2.737,2.737,0,0,0,.59,1.9,2.071,2.071,0,0,0,3,0,2.836,2.836,0,0,0,.56-1.9V139.4a9.569,9.569,0,0,1,.63-3.9,2.578,2.578,0,0,1,2.61-1.359,1.807,1.807,0,0,1,1.45.539,2.612,2.612,0,0,1,.56,1.382,20.541,20.541,0,0,1,.1,2.364v6.429a2.776,2.776,0,0,0,.57,1.906,1.911,1.911,0,0,0,1.49.636,1.946,1.946,0,0,0,1.52-.636,2.777,2.777,0,0,0,.58-1.906v-5.365a10.014,10.014,0,0,1,.44-3.606h0Z" transform="translate(-1016.12 -125)"/>
                </svg>
            </div>
            <div class="leadship">
                <p><i class="blue-circle"></i>前端：卡拉肖克*东</p>
                <p><i class="blue-circle"></i>UI：小由</p>
            </div>
            <div>
                <pre style="color:#27b3e7">
                    /**
 *  .--,       .--,
 * ( (  \.---./  ) )
 *  '.__/<span class="eyes">👁</span>  <span class="eyes">👁</span>\__.'
 *     {=  ^  =}
 *      >  -  <
 *     /       \
 *    //       \\
 *   //|   .   |\\
 *   "'\       /'"_.-~^`'-.
 *      \  _  /--'         `
 *    ___)( )(___
 *   (((__) (__)))
 */
                </pre>
            </div>
        </aside>
        <div class="cf"></div>
        <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
        <% if(!isMobile){ %>
        <script src="//cdn.bootcss.com/Swiper/3.4.1/js/swiper.jquery.min.js"></script>
        <% } %>
        <script src="//cdn.bootcss.com/vue/2.1.10/vue.min.js"></script>
        <script src="//cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>
        <script>
            var api = {
                menu:<%- JSON.stringify(menus) %>,
                mergeTypesHash:function(){
                    var hash = {};
                    var arr = this.menu;

                    for(var n = 0, len = arr.length; n < len; n++){
                        hash[arr[n].field_id] = arr[n].field_name;
                        var _arr = arr[n].field_members;
                        if(!arr[n].field_members){
                            continue;
                        }
                        for(var k = 0, _len = _arr.length; k < _len; k++){
                            hash[_arr[k].field_member_id] = _arr[k].field_member_name;
                        }
                    };
                    return hash;
                },
                moment:function(seconds){
                    var date = new Date(seconds);
                    var m = date.getMonth()+1;
                    var d = date.getDate();
                    return date.getFullYear()+"-"+(m<10 ? "0"+m : m) +"-"+ (d<10 ? "0"+d : d);
                }
            };
            var typesHash = api.mergeTypesHash();
            delete api.mergeTypesHash;
            delete api.menu;
            var webapp = new Vue({
                el:"#app",
                data:{
                    posts: [],
                    conditions: {},
                    sortedBy: {
                        _id: -1
                    },
                    filterBy: 'post_abstract post_classify_sub post_classify_sup post_comments post_created post_pv post_title',
                    page_size: 6,
                    offset: 1,
                    nodata: false
                },
                mounted:function(){
                    if(/(cate|subcate)\/(\d+)(\/(\d+))?/.exec(window.location.href)){
                        $("[data-id]").each(function(){
                            if($(this).data("id") == RegExp.$2){
                                $(this).addClass("active");
                            }
                        });
                        this.conditions[RegExp.$1 ==='cate' ? 'post_classify_sup':'post_classify_sub'] = RegExp.$2;
                        if(RegExp.$4){
                            this.offset = RegExp.$4;
                        };
                    }
                },
                methods:{
                    skip:function(id){
                        window.location.href='/blog/'+id;
                    },
                    loadMore:function(){ 
                        var _this = this; 

                        $.ajax({
                            type:'get',
                            url:'/api/article/pagination/fetch',
                            dataType:'json',
                            data:{
                                conditions : this.conditions,
                                sortedBy  : this.sortedBy,
                                limit     : this.page_size,
                                offset    : this.offset,
                                filterBy  : this.filterBy
                            },
                            success:function(res){
                                this.offset ++;
                                _this.posts = _this.posts.concat(res.info.collections);
                                _this.nodata = res.info.nodata;
                                _this.$nextTick(function(){
                                    $("img.lazy").lazyload({
                                        effect : "fadeIn"
                                    });
                                })  
                            }
                        })
                    }
                },
                filters:{
                   dateFomat:function(val){
                       return api.moment(val);
                   },
                   typesFomat:function(val){
                        return typesHash[val];
                   }
                }
            });
            $(function(){
                $('[data-toggle]').each(function(){
                    var s = $(this).data('toggle');
                    if(s == 'collapse'){
                         $(this).on('click',function(){
                            var id = $(this).data('target')
                            $(id).slideToggle();
                        })
                    };
                });
                if($("#nav-mask__left").length){
                    $("#nav-mask__left").on("click",function(){
                        if($("#sidebar-nav").prop("checked")){
                            $("#sidebar-icon").prop("checked",true);
                        }
                    })
                };
                $("img.lazy").lazyload({
                    effect : "fadeIn"
                });
                if(window.Swiper){
                    var mySwiper = new Swiper('.swiper-container', {
                        pagination : '.swiper-pagination',
                        autoplay: 5000,//可选选项，自动滑动
                        paginationClickable :true,
                        loop:true,
                        lazyLoading:true
                    });
                }
               
            });
  	    </script> 
        <%- include footer.ejs %>
    </body>
</html>
